= PubID: Interoperable identifiers for information resources

== Overview

The PubID project promotes the use of interoperable identifiers across various
domains, including ISO, IEC, NIST, and more.

The core of PubID is an identifier information model that allows a publisher
to build a human- and machine-readable identification scheme for the
unique identification of documents, standards, and other resources.

This identification scheme is designed to facilitate interoperability and data
exchange between systems and organizations by providing a consistent way to
identify, reference and utilize these resources.

A PubID typically incorporates various components, such as a mixture of an
organizational prefix, document type, document stage, edition or version number,
and other relevant information.

The key feature that a PubID provides is the ability to represent
identifiers in a structured format that can be easily parsed and understood by
both humans and machines, in a round-trippable manner.


== Repository

This repository is a monorepo for the PubID Ruby gems, which implement the PubID
identifier data model and its various components.

The PubID Ruby gems implement identifiers from multiple standards organizations,
making it easier for developers to work with them in their applications.

This repository contains all the `pubid-*` gems consolidated into a single
monorepo for easier development and maintenance while preserving individual gem
releases.


== Structure

The monorepo is organized as follows:

----
.
â”œâ”€â”€ gems/                    # Individual gem directories
â”‚   â”œâ”€â”€ pubid/              # Meta-gem that includes common gems
â”‚   â”œâ”€â”€ pubid-core/         # Core functionality
â”‚   â”œâ”€â”€ pubid-iso/          # ISO identifiers
â”‚   â”œâ”€â”€ pubid-iec/          # IEC identifiers
â”‚   â”œâ”€â”€ pubid-nist/         # NIST identifiers
â”‚   â””â”€â”€ ...                 # Other pubid-* gems
â”œâ”€â”€ spec/                   # Integration tests
â”‚   â””â”€â”€ integration/        # Cross-gem integration tests
â”œâ”€â”€ .github/workflows/      # Shared CI/CD workflows
â”œâ”€â”€ Gemfile                 # Root Gemfile for development
â”œâ”€â”€ Rakefile               # Monorepo management tasks
â”œâ”€â”€ .rubocop.yml           # Shared RuboCop configuration
â”œâ”€â”€ .rspec                 # Shared RSpec configuration
â””â”€â”€ LICENSE.txt            # Shared license
----

== Development setup

. Clone the repository:
+
[source,bash]
----
git clone <repository-url>
cd pubid
----

. Install dependencies:
+
[source,bash]
----
bundle install
----

. Run all tests:
+
[source,bash]
----
bundle exec rake test:all
----

== Working with individual gems

=== General

Each gem maintains its own:

`pubid-*.gemspec`:: file for dependencies and metadata
`lib/`:: directory for source code
`spec/`:: directory for gem-specific tests

Each gem has its own individual versioning and release cycle.


=== Running tests for a specific gem

[source,bash]
----
# Run tests for pubid-core
bundle exec rake test:pubid_core

# Run tests for pubid-iso
bundle exec rake test:pubid_iso
----

=== Building and installing gems

[source,bash]
----
# Build a specific gem
bundle exec rake build:pubid_core

# Install a gem locally
bundle exec rake install:pubid_core

# Build all gems
bundle exec rake build:all
----

== Integration testing

The monorepo includes integration tests that verify:

* Dependency chains work correctly
* Gems can be loaded together without conflicts
* Cross-gem functionality works as expected

Run integration tests:

[source,bash]
----
bundle exec rake test:integration
----

== Code quality

=== RuboCop

Run RuboCop for all gems:

[source,bash]
----
bundle exec rake rubocop:all
----

Run RuboCop for a specific gem:

[source,bash]
----
bundle exec rake rubocop:pubid_core
----

=== All quality checks

Run all tests and quality checks:

[source,bash]
----
bundle exec rake
----

== Release management

=== Checking release status

[source,bash]
----
bundle exec rake release:status
----

This shows:

* Which gems have uncommitted changes
* How many commits since the last tag
* Release readiness status

=== Releasing individual gems

Each gem can be released independently:

[source,bash]
----
# Release pubid-core
bundle exec rake release:pubid_core
----

NOTE: Ensure you have proper credentials and permissions for RubyGems.


== Dependency management

=== Gem dependencies

The gems are organized in a dependency hierarchy:

----
pubid (v0.1.2)          # meta-gem including common gems

pubid-core (v1.13.0)    # foundation gem
â”œâ”€â”€ pubid-iso (v0.8.0)
â”‚   â””â”€â”€ pubid-ieee (v0.2.2)
â”œâ”€â”€ pubid-iec (v0.3.2)
â”œâ”€â”€ pubid-nist (v0.4.2)
â”œâ”€â”€ pubid-cen (v0.2.4)  # depends on iso, iec, core
â”œâ”€â”€ pubid-bsi (v0.3.4)  # depends on cen, nist, iso, iec, core
â”œâ”€â”€ pubid-etsi (v0.1.0)
â”œâ”€â”€ pubid-itu (v0.1.3)
â”œâ”€â”€ pubid-jis (v0.3.2)
â””â”€â”€ pubid-plateau (v0.1.1)
----


== Available rake tasks

=== Testing

* `rake test:all` - Run all gem tests
* `rake test:integration` - Run integration tests
* `rake test:<gem_name>` - Run tests for specific gem

=== Building

* `rake build:all` - Build all gems
* `rake build:<gem_name>` - Build specific gem

=== Installation

* `rake install:all` - Install all gems locally
* `rake install:<gem_name>` - Install specific gem locally

=== Code quality

* `rake rubocop:all` - Run RuboCop for all gems
* `rake rubocop:<gem_name>` - Run RuboCop for specific gem

=== Release management

* `rake release:status` - Check release status for all gems
* `rake release:<gem_name>` - Release specific gem

The release status shows individual gem versions from their version files and
indicates:

* ðŸ“¦ Current version from gemspec
* âœ“/âœ— Git working directory status
* âœ“/! Whether current version is tagged
* ðŸ“‹ Latest git tag found

=== Cleanup

* `rake clean:all` - Clean all built files
* `rake clean:<gem_name>` - Clean specific gem's built files

== Quick reference

=== Common development workflows

**Development:**
[source,bash]
----
bundle exec rake test:all          # Run all tests
bundle exec rake test:integration  # Run integration tests
bundle exec rake rubocop:all       # Check code quality
----

**Working on a specific gem:**
[source,bash]
----
bundle exec rake test:pubid_core     # Test one gem
bundle exec rake rubocop:pubid_core  # Check one gem's style
bundle exec rake build:pubid_core    # Build one gem
----

**Before releasing:**
[source,bash]
----
bundle exec rake release:status     # Check all gem versions and status
bundle exec rake test:all           # Ensure all tests pass
bundle exec rake rubocop:all        # Ensure code quality
----

**Release a gem:**
[source,bash]
----
bundle exec rake release:pubid_core  # Release specific gem
----

== Contributing

. Make changes to the appropriate gem directory
. Run tests: `bundle exec rake test:all`
. Run integration tests: `bundle exec rake test:integration`
. Run code quality checks: `bundle exec rake rubocop:all`
. Submit a pull request

== Copyright and license

Copyright 2025, Ribose.

This project is licensed under the BSD 2-Clause License - see the LICENSE.txt
file for details.
